\documentclass[10pt]{scrartcl}
\usepackage{PDBF}
\usepackage{wrapfig}
\usepackage{ngerman}
\usepackage[a4paper,vmargin={30mm,40mm},hmargin={28mm,28mm}]{geometry}

\title{PDBF Testdokument}
\author{
 Patrick Bender\\
  \texttt{s9pabend@stud.uni-saarland.de}
}
\date{\today{}, Saarbr"ucken}

\makeatletter
\def\@maketitle{%
  \vspace*{-\topskip}%
  \begingroup\centering%
  \let \footnote \thanks
  \hrule height \z@%
    {\LARGE \@title \par}%
    \vskip 1.5em 
    {\large
      \lineskip .5em 
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
    \vskip 1em 
    {\large \@date}%
  \par\endgroup%
  \vskip 1.5em%
}
\makeatother

\renewcommand\pdbfScale{0.833}

\dbSQLText{CREATE TABLE table1 (column1 INTEGER, column2 DATE, column3 FLOAT);}
\dbSQLFile{somedb.sql}
\dbSQLJDBC{jdbc:postgresql://localhost:5432/postgres}{postgres}{test}{testtest, dim_time, dim_compiler, dim_dataset, dim_implementation, dim_layout, dim_query, dim_machine, fact_experiment}%

\begin{document}
\maketitle
\begin{wrapfigure}{r}{0.47\textwidth}
{ \centering %
\chart[width=0.4\textwidth, height=0.3\textwidth, chartType=Line, options={"title": "Title"}]{SELECT * FROM data1;}%
\\ }
\vspace{-5pt}
\caption{Graph1}
\vspace{-20pt}
\end{wrapfigure} ~\\
Test Queries:\\[3pt]
\sql{SELECT * FROM test;}\\[3pt]
\sql{SELECT col2 FROM test WHERE col1=1;}\\[3pt]
\sql[INSERT INTO test]{INSERT INTO test VALUES (1, 123);}\\
\sql[VALUES (1, 123);]{INSERT INTO test VALUES (1, 123);}\\[8pt]
Lorem ipsum \sql{SELECT * FROM test;} dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\\

\noindent \begin{wrapfigure}{r!}{0.37\textwidth}
     \vspace{-12pt}
     { \centering %
     \chart[width=0.3\textwidth, height=0.4\textwidth, chartType=Line, xunit=Date, yunit=Money (in â‚¬), logscale=true]{SELECT * FROM data1 WHERE date >= '2008/05/11';}%
     \\ }
     \vspace{-5pt}
     \caption{Graph2}
     \vspace{-20pt}
\end{wrapfigure}
Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.\\[8pt]
Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait facilisi. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.

\newpage

\begin{figure}[h!]
    \centering
    \begin{minipage}{.48\textwidth}
    \chart[width=\textwidth, height=0.8\textwidth, chartType=Line, xunit=Date, yunit={Runtime [in sec]}]{SELECT date, runtimeA AS engine_A, runtimeB AS engine_B FROM data2;}
    \caption{Multi-column Line Chart}
    \end{minipage}
    \hspace{11pt}
    \begin{minipage}{.48\textwidth}
    \chart[width=\textwidth, height=0.8\textwidth, chartType=Bar, xunit=Date, yunit={Runtime [in sec]}]{SELECT date, runtimeA AS [engine A], runtimeB AS [engine B] FROM data2;}
    \caption{Multi-column Bar Chart}
    \end{minipage} \\[8pt]
    
    \begin{minipage}{.48\textwidth}
    \chart[width=\textwidth, height=0.8\textwidth, chartType=Bar, xunit=Date, yunit={Runtime [in sec]}, overlap=2]{SELECT date, runtimeA AS [engine A], runtimeB AS [engine B] FROM data2;}
    \caption{Multi-column overlapping Bar Chart}
    \end{minipage}
    \hspace{11pt}
    \begin{minipage}{.48\textwidth}
    \chart[width=\textwidth, height=0.8\textwidth, chartType=Line, xunit=Date, yunit={Runtime [in sec]}, options={"strokeWidth": 0, "drawPoints": true, "pointSize": 3, "highlightCircleSize": 4, "xRangePad": 10}]{SELECT date, runtimeA AS [engine A], runtimeB AS [engine B] FROM data2;}
    \caption{Multi-column Dot Chart}
    \end{minipage} \\[8pt]
    
    \begin{minipage}{\textwidth}
    \chart[width=1.0\textwidth, height=0.45\textwidth, chartType=Line, xunit=Row Number, yunit={Runtime [in sec]}]{SELECT ROWNUM(), runtime FROM fact_experiment;}\\%
    \caption{Lot of points}
    \end{minipage}
\end{figure}

\clearpage
\begin{wrapfigure}{r}{0.52\textwidth}
{ \centering %
\pivotTable[width=0.5\textwidth, height=0.8\textwidth, scale=0.5, rows={["Machine", "Table schema", "Query"]}, aggregation=Minimum, aggregationattribute=Query time, aggregationBig=Minimum, aggregationattributeBig=Query time (in Sec)]
[SELECT
m.cpu + ' (' +  m.cpuarchitecture + ')' AS Machine,
d.tableschema   AS [Table schema],
q.querytext     AS [Query],
c.compiler      AS Compiler,
c.optlevel      AS [Opt. level],
l.name          AS [Layout name],
CAST(COALESCE(l.chunksize, 'n/a') AS VARCHAR) AS [Chunk size (tuples)],
IIF(i.templateparam, 'Compile time', 'Runtime') AS [Chunk size provided at],
IIF(i.logscaleparam, 'Powers of 2', 'Multiples of 2') AS [Chunk sizes considered],
t.timestamp 	AS [Time of experiment],
ROUND(v.runtime, 3) 		AS [Query time (in Sec)]
FROM fact_experiment AS v
    JOIN dim_machine m ON m.id = v.machineid
    JOIN dim_dataset d ON d.id = v.datasetid
    JOIN dim_compiler c ON c.id = v.compilerid
    JOIN dim_layout l ON l.id = v.layoutid
    JOIN dim_implementation i ON i.id = v.implementationid
    JOIN dim_query q ON q.id = v.queryid
    JOIN dim_time t ON t.id = v.timeid
ORDER BY m.id DESC, d.tableschema, q.querytext,
    c.compiler, c.optlevel, i.templateparam, i.logscaleparam, l.chunksize;]
{SELECT
m.cpuarchitecture AS Machine,
IIF(d.tableschema = '(long a, long b)', 'long', IIF(d.tableschema = '(char a, char b)', 'char', IIF(d.tableschema = '(int a, int b)', 'int', 'n/a')))   AS [Table schema],
IIF(q.querytext = 'SELECT MIN(a+b) FROM t', 'Q1', 'Q2')     AS [Query],
c.compiler      AS Compiler,
c.optlevel      AS [Opt. level],
l.name          AS [Layout name],
CAST(COALESCE(IIF(i.templateparam, 'C', 'R'), 'n/a') AS VARCHAR) AS [Chunk size provi- ded at],
ROUND(v.runtime, 3) 		AS [Query time]
FROM fact_experiment AS v
    JOIN dim_machine m ON m.id = v.machineid
    JOIN dim_dataset d ON d.id = v.datasetid
    JOIN dim_compiler c ON c.id = v.compilerid
    JOIN dim_layout l ON l.id = v.layoutid
    JOIN dim_implementation i ON i.id = v.implementationid
    JOIN dim_query q ON q.id = v.queryid
ORDER BY m.id DESC, d.tableschema, q.querytext,
    c.compiler, c.optlevel, i.templateparam, i.logscaleparam, l.chunksize;}
\\ }
\vspace{-5pt}
\caption{Pivot table}
\vspace{-23pt}
\end{wrapfigure}
Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.\\[8pt]
Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait facilisi.\\[8pt]
Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait facilisi.

\end{document}